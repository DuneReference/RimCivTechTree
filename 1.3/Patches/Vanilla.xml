<?xml version="1.0" encoding="utf-8" ?>
<Patch>

    <!-- Hide old techs & Remove prerequisites -->

    <!-- Neolithic -->

	<Operation Class="PatchOperationAdd">
		<xpath>
			Defs/ResearchProjectDef[
                   defName = "TreeSowing"
				or defName = "Cocoa"
				or defName = "Devilstrand"
				or defName = "PsychoidBrewing"
				or defName = "Brewing"
				or defName = "PassiveCooler"
				or defName = "Pemmican"
				or defName = "RecurveBow"
            ]
		</xpath>
        <value>
            <tab>DuneRef_Hidden</tab>
        </value>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>
			Defs/ResearchProjectDef[
				   defName = "Cocoa"
            ]/prerequisites
		</xpath>
	</Operation>

    <!-- Medieval -->

    <Operation Class="PatchOperationAdd">
		<xpath>
			Defs/ResearchProjectDef[
                   defName = "Greatbow"
				or defName = "ComplexClothing"
				or defName = "CarpetMaking"
				or defName = "Smithing"
				or defName = "Stonecutting"
				or defName = "LongBlades"
				or defName = "PlateArmor"
            ]
		</xpath>
        <value>
            <tab>DuneRef_Hidden</tab>
        </value>
	</Operation>

	<!-- Conditional because Vanilla Furniture Expanded adds tab -->
	<Operation Class="PatchOperationConditional">
		<xpath>Defs/ResearchProjectDef[defName = "ComplexFurniture"]/tab</xpath>
		<match Class="PatchOperationReplace">
			<xpath>Defs/ResearchProjectDef[defName = "ComplexFurniture"]/tab</xpath>
			<value>
				<tab>DuneRef_Hidden</tab>
			</value>
		</match>
		<nomatch Class="PatchOperationAdd">
			<xpath>Defs/ResearchProjectDef[defName = "ComplexFurniture"]</xpath>
			<value>
				<tab>DuneRef_Hidden</tab>
			</value>
		</nomatch>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>
			Defs/ResearchProjectDef[
                   defName = "Greatbow"
				or defName = "LongBlades"
				or defName = "PlateArmor"
            ]/prerequisites
		</xpath>
	</Operation>

    <!-- Industrial -->

    <Operation Class="PatchOperationAdd">
		<xpath>
			Defs/ResearchProjectDef[
                   defName = "DrugProduction"
				or defName = "PsychiteRefining"
				or defName = "WakeUpProduction"
				or defName = "GoJuiceProduction"
				or defName = "PenoxycylineProduction"
				or defName = "Electricity"
				or defName = "Batteries"
				or defName = "BiofuelRefining"
				or defName = "WatermillGenerator"
				or defName = "NutrientPaste"
				or defName = "SolarPanels"
				or defName = "AirConditioning"
				or defName = "Autodoors"
				or defName = "Hydroponics"
				or defName = "PackagedSurvivalMeal"
				or defName = "Firefoam"
				or defName = "IEDs"
				or defName = "GeothermalPower"
				or defName = "SterileMaterials"
				or defName = "ColoredLights"
				or defName = "Machining"
				or defName = "SmokepopBelt"
				or defName = "Gunsmithing"
				or defName = "FlakArmor"
				or defName = "Mortars"
				or defName = "BlowbackOperation"
				or defName = "GasOperation"
				or defName = "GunTurrets"
				or defName = "MicroelectronicsBasics"
				or defName = "MoisturePump"
				or defName = "HospitalBed"
				or defName = "DeepDrilling"
				or defName = "GroundPenetratingScanner"
				or defName = "TransportPod"
				or defName = "MedicineProduction"
				or defName = "LongRangeMineralScanner"
				or defName = "ShieldBelt"
				or defName = "PrecisionRifling"
				or defName = "HeavyTurrets"
				or defName = "MultibarrelWeapons"
				or defName = "MultiAnalyzer"
				or defName = "VitalsMonitor"
				or defName = "Fabrication"
				or defName = "AdvancedFabrication"
				or defName = "SniperTurret"
            ]
		</xpath>
        <value>
            <tab>DuneRef_Hidden</tab>
        </value>
	</Operation>

	<!-- Conditional because EPOE adds tab -->
	<Operation Class="PatchOperationConditional">
		<xpath>Defs/ResearchProjectDef[defName = "Prosthetics"]/tab</xpath>
		<match Class="PatchOperationReplace">
			<xpath>Defs/ResearchProjectDef[defName = "Prosthetics"]/tab</xpath>
			<value>
				<tab>DuneRef_Hidden</tab>
			</value>
		</match>
		<nomatch Class="PatchOperationAdd">
			<xpath>Defs/ResearchProjectDef[defName = "Prosthetics"]</xpath>
			<value>
				<tab>DuneRef_Hidden</tab>
			</value>
		</nomatch>
	</Operation>

	<!-- Conditional because Vanilla Furniture Expanded adds tab -->
	<Operation Class="PatchOperationConditional">
		<xpath>Defs/ResearchProjectDef[defName = "TubeTelevision"]/tab</xpath>
		<match Class="PatchOperationReplace">
			<xpath>Defs/ResearchProjectDef[defName = "TubeTelevision"]/tab</xpath>
			<value>
				<tab>DuneRef_Hidden</tab>
			</value>
		</match>
		<nomatch Class="PatchOperationAdd">
			<xpath>Defs/ResearchProjectDef[defName = "TubeTelevision"]</xpath>
			<value>
				<tab>DuneRef_Hidden</tab>
			</value>
		</nomatch>
	</Operation>

	<!-- Conditional because Vanilla Furniture Expanded adds tab -->
	<Operation Class="PatchOperationConditional">
		<xpath>Defs/ResearchProjectDef[defName = "FlatscreenTelevision"]/tab</xpath>
		<match Class="PatchOperationReplace">
			<xpath>Defs/ResearchProjectDef[defName = "FlatscreenTelevision"]/tab</xpath>
			<value>
				<tab>DuneRef_Hidden</tab>
			</value>
		</match>
		<nomatch Class="PatchOperationAdd">
			<xpath>Defs/ResearchProjectDef[defName = "FlatscreenTelevision"]</xpath>
			<value>
				<tab>DuneRef_Hidden</tab>
			</value>
		</nomatch>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>
			Defs/ResearchProjectDef[
				   defName = "PsychiteRefining"
				or defName = "WakeUpProduction"
				or defName = "GoJuiceProduction"
				or defName = "PenoxycylineProduction"
				or defName = "Batteries"
				or defName = "BiofuelRefining"
				or defName = "WatermillGenerator"
				or defName = "NutrientPaste"
				or defName = "SolarPanels"
				or defName = "AirConditioning"
				or defName = "Autodoors"
				or defName = "Hydroponics"
				or defName = "TubeTelevision"
				or defName = "PackagedSurvivalMeal"
				or defName = "Firefoam"
				or defName = "IEDs"
				or defName = "GeothermalPower"
				or defName = "SterileMaterials"
				or defName = "ColoredLights"
				or defName = "Machining"
				or defName = "SmokepopBelt"
				or defName = "Prosthetics"
				or defName = "Gunsmithing"
				or defName = "FlakArmor"
				or defName = "Mortars"
				or defName = "BlowbackOperation"
				or defName = "GasOperation"
				or defName = "GunTurrets"
				or defName = "MicroelectronicsBasics"
				or defName = "FlatscreenTelevision"
				or defName = "MoisturePump"
				or defName = "HospitalBed"
				or defName = "DeepDrilling"
				or defName = "GroundPenetratingScanner"
				or defName = "TransportPod"
				or defName = "MedicineProduction"
				or defName = "LongRangeMineralScanner"
				or defName = "ShieldBelt"
				or defName = "PrecisionRifling"
				or defName = "HeavyTurrets"
				or defName = "MultibarrelWeapons"
				or defName = "MultiAnalyzer"
				or defName = "VitalsMonitor"
				or defName = "Fabrication"
				or defName = "AdvancedFabrication"
				or defName = "SniperTurret"
            ]/prerequisites
		</xpath>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>
			Defs/ResearchProjectDef[
				   defName = "TubeTelevision"
				or defName = "SmokepopBelt"
				or defName = "FlakArmor"
				or defName = "MoisturePump"
				or defName = "HospitalBed"
				or defName = "TransportPod"
				or defName = "LongRangeMineralScanner"
				or defName = "ShieldBelt"
				or defName = "MultiAnalyzer"
				or defName = "SniperTurret"
            ]/hiddenPrerequisites
		</xpath>
	</Operation>

    <!-- Spacer -->

    <Operation Class="PatchOperationAdd">
		<xpath>
			Defs/ResearchProjectDef[
                   defName = "Cryptosleep"
				or defName = "ReconArmor"
				or defName = "PoweredArmor"
				or defName = "ChargedShot"
				or defName = "ShipBasics"
				or defName = "ShipSensorCluster"
				or defName = "ShipCryptosleep"
				or defName = "ShipReactor"
				or defName = "ShipEngine"
				or defName = "ShipComputerCore"
            ]
		</xpath>
        <value>
            <tab>DuneRef_Hidden</tab>
        </value>
	</Operation>

	<!-- Conditional because EPOE adds tab -->
	<Operation Class="PatchOperationConditional">
		<xpath>Defs/ResearchProjectDef[defName = "Bionics"]/tab</xpath>
		<match Class="PatchOperationReplace">
			<xpath>Defs/ResearchProjectDef[defName = "Bionics"]/tab</xpath>
			<value>
				<tab>DuneRef_Hidden</tab>
			</value>
		</match>
		<nomatch Class="PatchOperationAdd">
			<xpath>Defs/ResearchProjectDef[defName = "Bionics"]</xpath>
			<value>
				<tab>DuneRef_Hidden</tab>
			</value>
		</nomatch>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>
			Defs/ResearchProjectDef[
                   defName = "Cryptosleep"
				or defName = "ReconArmor"
				or defName = "PoweredArmor"
				or defName = "ChargedShot"
				or defName = "Bionics"
				or defName = "ShipBasics"
				or defName = "ShipSensorCluster"
				or defName = "ShipCryptosleep"
				or defName = "ShipReactor"
				or defName = "ShipEngine"
				or defName = "ShipComputerCore"
            ]/prerequisites
		</xpath>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>
			Defs/ResearchProjectDef[
				   defName = "ReconArmor"
				or defName = "PoweredArmor"
				or defName = "ChargedShot"
				or defName = "Bionics"
            ]/hiddenPrerequisites
		</xpath>
	</Operation>

</Patch>