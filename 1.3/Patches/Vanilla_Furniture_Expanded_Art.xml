<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	
	<!-- Change Research Prerequisites -->

	<!-- VFE_Res_Pottery -->

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Furniture Expanded - Art</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>
				Defs/ThingDef[defName = "VFE_Pottery"]/recipeMaker/researchPrerequisite
			</xpath>
			<value>
				<researchPrerequisite>DuneRef_Pottery</researchPrerequisite>
			</value>
		</match>
	</Operation>

	<!-- VFE_Res_Obelisk -->
	<!-- VFE_Res_WallCarvings -->

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Furniture Expanded - Art</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>
				Defs/ThingDef[
					defName = "VFE_Obelisk"
					or defName = "VFE_Carving"
					or defName = "VFE_Relief"
					or defName = "VFE_Pillar"
				]/recipeMaker/researchPrerequisite
			</xpath>
			<value>
				<researchPrerequisite>DuneRef_Mining</researchPrerequisite>
			</value>
		</match>
	</Operation>

	<!-- VFE_Res_ArtfulDisplay -->
	<!-- VFE_Res_Statues -->
	<!-- VFE_Res_Monuments -->

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Furniture Expanded - Art</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>
				Defs/ThingDef[
					defName = "VFE_StatueSmall"
					or defName = "VFE_StatueLarge"
					or defName = "VFE_StatueGrand"
					or defName = "VFE_Monument"
					or defName = "VFE_Plinth"
					or defName = "VFE_DecorativePlantPot"
				]/recipeMaker/researchPrerequisite
			</xpath>
			<value>
				<researchPrerequisite>
					<li>DuneRef_Construction</li>
				</researchPrerequisite>
			</value>
		</match>
	</Operation>

	<!-- VFE_Res_Rugs -->

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Furniture Expanded - Art</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>
				Defs/ThingDef[@Name = "RugBase"]/recipeMaker/researchPrerequisite
			</xpath>
			<value>
				<researchPrerequisite>
					<li>DuneRef_Currency</li>
				</researchPrerequisite>
			</value>
		</match>
	</Operation>

	<!-- VFE_Res_Wallpapers -->

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Furniture Expanded - Art</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>
				Defs/ThingDef[defName = "VFE_Wallpaper"]/researchPrerequisites
			</xpath>
			<value>
				<researchPrerequisites>
					<li>DuneRef_Currency</li>
				</researchPrerequisites>
			</value>
		</match>
	</Operation>

	<!-- VFE_Res_Holograms -->

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Furniture Expanded - Art</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>
				Defs/ThingDef[defName = "HologramBase"]/recipeMaker/researchPrerequisite
			</xpath>
			<value>
				<researchPrerequisite>
					<li>DuneRef_AdvancedAI</li>
				</researchPrerequisite>
			</value>
		</match>
	</Operation>

	<!-- Remove Old Research Nodes -->

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Furniture Expanded - Art</li>
		</mods>
		<match Class="PatchOperationRemove">
			<xpath>
				/Defs/ResearchProjectDef[
					   defName = "VFE_Res_Pottery"
					or defName = "VFE_Res_Obelisk"
					or defName = "VFE_Res_WallCarvings"
					or defName = "VFE_Res_ArtfulDisplay"
					or defName = "VFE_Res_Statues"
					or defName = "VFE_Res_Monuments"
					or defName = "VFE_Res_Rugs"
					or defName = "VFE_Res_Wallpapers"
					or defName = "VFE_Res_Holograms"
				]
			</xpath>
		</match>
	</Operation>

</Patch>