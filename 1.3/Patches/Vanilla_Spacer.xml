<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	
	<!-- Change Research Prerequisites -->
	
	<!-- Cryptosleep -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[defName = "CryptosleepCasket"]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Bioregeneration</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- PoweredArmor -->
	<!-- ReconArmor -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   @Name = "ApparelArmorHelmetPowerBase"
				or @Name = "ApparelArmorHelmetReconBase"
				or @Name = "ApparelArmorPowerBase"
				or @Name = "ApparelArmorReconBase"
			]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_PredictiveSystems</researchPrerequisite>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[defName = "Apparel_ArmorLocust"]/recipeMaker/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_PredictiveSystems</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- ChargedShot -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "Gun_ChargeRifle"
				or defName = "Gun_ChargeLance"
			]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_MechanoidTechnology</researchPrerequisite>
		</value>
	</Operation>

	<!-- Bionics -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[@Name = "BodyPartBionicBase"]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_Cybernetics</researchPrerequisite>
		</value>
	</Operation>

	<!-- ShipBasics -->
	<!-- ShipCryptosleep -->
	<!-- ShipComputerCore -->
	<!-- ShipReactor -->
	<!-- ShipEngine -->
	<!-- ShipSensorCluster -->
	
	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "Ship_Beam"
				or defName = "Ship_CryptosleepCasket"
				or defName = "Ship_ComputerCore"
				or defName = "Ship_Reactor"
				or defName = "Ship_Engine"
				or defName = "Ship_SensorCluster"
			]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_OffworldMissions</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- CataphractArmor -->
	
	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   @Name = "ApparelArmorCataphractBase"
				or @Name = "ApparelArmorHelmetCataphractBase"
			]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_AdvancedShields</researchPrerequisite>
		</value>
	</Operation>

	<!-- BrainWiring -->
	<!-- SpecializedLimbs -->
	<!-- CompactWeaponry -->
	<!-- VenomSynthesis -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "Mindscrew"
				or defName = "DrillArm"
				or defName = "FieldHand"
				or defName = "HandTalon"
				or defName = "ElbowBlade"
				or defName = "KneeSpike"
				or defName = "VenomFangs"
				or defName = "VenomTalon"
			]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_Medicine</researchPrerequisite>
		</value>
	</Operation>

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Royalty</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>
				Defs/ThingDef[
					   defName = "Joywire"
					or defName = "Painstopper"
					or defName = "PowerClaw"
				]/recipeMaker/researchPrerequisite
			</xpath>
			<value>
				<researchPrerequisite>DuneRef_Cybernetics</researchPrerequisite>
			</value>
		</match>
	</Operation>
	
	<!-- Remove Old Research Nodes -->

	<Operation Class="PatchOperationRemove">
		<xpath>
			/Defs/ResearchProjectDef[
				   defName = "CataphractArmor"
				or defName = "BrainWiring"
				or defName = "SpecializedLimbs"
				or defName = "CompactWeaponry"
				or defName = "VenomSynthesis"
			]
		</xpath>
	</Operation>

	<!-- <Operation Class="PatchOperationRemove">
		<xpath>
			/Defs/ResearchProjectDef[
				   defName = "Cryptosleep"
				or defName = "ReconArmor" (powered armor)
				or defName = "PoweredArmor"
				or defName = "ChargedShot"
				or defName = "Bionics" (rip replacement)
				or defName = "ShipBasics"
				or defName = "ShipSensorCluster" (advanced Ship sensors)
				or defName = "ShipCryptosleep" ???
				or defName = "ShipReactor"
				or defName = "ShipEngine" ???
				or defName = "ShipComputerCore" (holographic avatars)
				or defName = "CataphractArmor"
				or defName = "BrainWiring"
				or defName = "SpecializedLimbs"
				or defName = "CompactWeaponry"
				or defName = "VenomSynthesis"
			]
		</xpath>
	</Operation> -->

</Patch>


