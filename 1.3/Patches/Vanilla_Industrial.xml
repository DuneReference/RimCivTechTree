<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	
	<!-- Change Research Prerequisites -->

	<!-- GoJuiceProduction -->
	<!-- PenoxycylineProduction -->
	<!-- PsychiteRefining -->
	<!-- WakeUpProduction -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "GoJuice"
				or defName = "Penoxycyline"
				or defName = "Flake"
				or defName = "Yayo"
				or defName = "WakeUp"
			]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_ScientificTheory</researchPrerequisite>
		</value>
	</Operation>

	<!-- Electricity -->
	<!-- Batteries -->
	<!-- WatermillGenerator -->
	<!-- AirConditioning -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   @Name = "LampBase"
				or defName = "PowerSwitch"
				or defName = "WoodFiredGenerator"
				or defName = "ChemfuelPoweredGenerator"
				or defName = "WindTurbine"
				or defName = "Battery"
				or defName = "ElectricStove"
				or defName = "ElectricSmelter"
				or defName = "ElectricCrematorium"
				or defName = "LightBall"
				or defName = "Loudspeaker"
				or defName = "ShipLandingBeacon"
			]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Electricity</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "PowerConduit"
				or defName = "WatermillGenerator"
			]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Engineering</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "Heater"
				or defName = "Cooler"
			]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Refrigeration</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- SolarPanels -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[defName = "SolarGenerator"]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_SyntheticMaterials</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- TubeTelevision -->
	<!-- GroundPenetratingScanner -->
	<!-- DeepDrilling -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "TubeTelevision"
				or defName = "GroundPenetratingScanner"
				or defName = "DeepDrill"
			]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Radio</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- PackagedSurvivalMeal -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/RecipeDef[
				   defName = "CookMealSurvival"
				or defName = "CookMealSurvivalBulk"
				]/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_BrutalWarfare</researchPrerequisite>
		</value>
	</Operation>

	<!-- Firefoam -->
	<!-- NutrientPaste -->
	<!-- SmokepopBelt -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "FirefoamPopper"
				or defName = "NutrientPasteDispenser"
				or defName = "Hopper"
			]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Chemistry</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[defName = "Apparel_SmokepopBelt"]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_Chemistry</researchPrerequisite>
		</value>
	</Operation>

	<!-- IEDs -->
	<!-- Mortars -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   @Name = "TrapIEDBase"
				or @Name = "BaseArtilleryBuilding"
			]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Combustion</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "Shell_HighExplosive"
				or defName = "Shell_Incendiary"
				or defName = "Shell_Smoke"
			]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_Combustion</researchPrerequisite>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[defName = "Shell_EMP"]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Combustion</li>
				<li>DuneRef_Plastics</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[defName = "Shell_Firefoam"]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Combustion</li>
				<li>DuneRef_Chemistry</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- SterileMaterials -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/TerrainDef[defName = "SterileTile"]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Sanitation</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- ColoredLights -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "StandingLamp_Red"
				or defName = "StandingLamp_Green"
				or defName = "StandingLamp_Blue"
			]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites Inherit="False">
				<li>DuneRef_Electricity</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- Prosthetics -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[@Name = "BodyPartProstheticMakeableBase"]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_Medicine</researchPrerequisite>
		</value>
	</Operation>

	<!-- Gunsmithing -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[@Name = "BaseMakeableGun"]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_Rifiling</researchPrerequisite>
		</value>
	</Operation>

	<!-- FlakArmor -->
	<!-- BlowbackOperation -->
	<!-- GasOperation -->
	<!-- Machining -->
	
	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "Apparel_AdvancedHelmet"
				or defName = "Apparel_FlakVest"
				or defName = "Apparel_FlakPants"
				or defName = "Apparel_FlakJacket"
				or defName = "Gun_Autopistol"
				or defName = "Gun_MachinePistol"
				or defName = "Gun_ChainShotgun"
				or defName = "Gun_HeavySMG"
				or defName = "Gun_LMG"
				or defName = "Weapon_GrenadeFrag"
				or defName = "Weapon_GrenadeMolotov"
			]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_ReplaceableParts</researchPrerequisite>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[defName = "TableMachining"]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Rifiling</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- GunTurrets -->
	
	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "Turret_MiniTurret"
				or defName = ""
				or defName = ""
				or defName = ""
				or defName = ""
			]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_AdvancedBallistics</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- MicroelectronicsBasics -->
	<!-- MultiAnalyzer -->
	<!-- Fabrication -->
	<!-- Autodoors -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "OrbitalTradeBeacon"
				or defName = "CommsConsole"
				or defName = "MultiAnalyzer"
				or defName = "FabricationBench"
				or defName = "HiTechResearchBench"
				or defName = "Autodoor"
				or defName = "SleepAccelerator"
				or defName = "Autobong"
			]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Plastics</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "Gun_EmpLauncher"
				or defName = "Weapon_GrenadeEMP"
			]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_Computers</researchPrerequisite>
		</value>
	</Operation>

	<!-- FlatscreenTelevision -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[defName = "FlatscreenTelevision"]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Lasers</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- MoisturePump -->
	<!-- GeothermalPower -->
	<!-- BiofuelRefining -->
	<!-- Hydroponics -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "MoisturePump"
				or defName = "GeothermalGenerator"
				or defName = "BiofuelRefinery"
				or defName = "HydroponicsBasin"
			]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Ecology</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- HospitalBed -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[defName = "HospitalBed"]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_ScientificTheory</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- TransportPod -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "PodLauncher"
				or defName = "TransportPod"
			]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Flight</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- LongRangeMineralScanner -->
	<!-- HeavyTurrets -->
	<!-- SniperTurret -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "LongRangeMineralScanner"
				or defName = "Turret_Autocannon"
				or defName = "Turret_Sniper"
				]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_GuidanceSystems</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- ShieldBelt -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "Apparel_ShieldBelt"
				or defName = "BroadshieldPack"
			]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_Shields</researchPrerequisite>
		</value>
	</Operation>

	<!-- PrecisionRifling -->
	<!-- MultibarrelWeapons -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "Gun_AssaultRifle"
				or defName = "Gun_SniperRifle"
				or defName = "Gun_Minigun"
			]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_BrutalWarfare</researchPrerequisite>
		</value>
	</Operation>

	<!-- VitalsMonitor -->
	<!-- MedicineProduction -->
	
	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "VitalsMonitor"
				or defName = "MedicineIndustrial"
			]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Medicine</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- AdvancedFabrication -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/RecipeDef[defName = "Make_ComponentSpacer"]/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_SyntheticMaterials</researchPrerequisite>
		</value>
	</Operation>

	<!-- Piano -->
	<!-- DrugProduction -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[defName = "Piano"]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_ExpandedCulture</researchPrerequisite>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "Piano"
				or defName = "DrugLab"
			]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_ExpandedCulture</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- JumpPack -->
	<!-- Gunlink -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[
				   defName = "Apparel_PackJump"
				or defName = "Apparel_Gunlink"
			]/recipeMaker/researchPrerequisite
		</xpath>
		<value>
			<researchPrerequisite>DuneRef_PredictiveSystems</researchPrerequisite>
		</value>
	</Operation>

	<!-- Biosculpting -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[defName = "BiosculpterPod"]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_Bioregeneration</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[defName = "BiosculpterPod"]/comps/li[compClass = "CompBiosculpterPod_RegenerationCycle"]/requiredResearch
		</xpath>
		<value>
			<requiredResearch>
				<li>DuneRef_Bioregeneration</li>
			</requiredResearch>
		</value>
	</Operation>

	<!-- Bioregeneration -->

	<!-- NeuralSupercharger -->

	<Operation Class="PatchOperationReplace">
		<xpath>
			Defs/ThingDef[defName = "NeuralSupercharger"]/researchPrerequisites
		</xpath>
		<value>
			<researchPrerequisites>
				<li>DuneRef_SmartMaterials</li>
			</researchPrerequisites>
		</value>
	</Operation>

	<!-- Remove Old Research Nodes -->

	<Operation Class="PatchOperationRemove">
		<xpath>
			/Defs/ResearchProjectDef[
				   defName = "PsychiteRefining"
				or defName = "WakeUpProduction"
				or defName = "GoJuiceProduction"
				or defName = "PackagedSurvivalMeal"
				or defName = "IEDs"
				or defName = "SmokepopBelt"
				or defName = "MoisturePump"
				or defName = "Piano"
				or defName = "JumpPacks"
				or defName = "Gunlink"
				or defName = "Biosculpting"
				or defName = "Bioregeneration"
				or defName = "NeuralSupercharger"
			]
		</xpath>
	</Operation>

	<!-- <Operation Class="PatchOperationRemove">
		<xpath>
			/Defs/ResearchProjectDef[
				   defName = "DrugProduction"
				or defName = "PsychiteRefining"
				or defName = "WakeUpProduction"
				or defName = "GoJuiceProduction"
				or defName = "PenoxycylineProduction"
				or defName = "Electricity"
				or defName = "Batteries"
				or defName = "BiofuelRefining"
				or defName = "WatermillGenerator"
				or defName = "NutrientPaste"
				or defName = "SolarPanels"
				or defName = "AirConditioning"
				or defName = "Autodoors"
				or defName = "Hydroponics"
				or defName = "TubeTelevision"
				or defName = "PackagedSurvivalMeal"
				or defName = "Firefoam"
				or defName = "IEDs"
				or defName = "GeothermalPower"
				or defName = "SterileMaterials"
				or defName = "ColoredLights"
				or defName = "Machining"
				or defName = "SmokepopBelt"
				or defName = "Prosthetics"
				or defName = "Gunsmithing"
				or defName = "FlakArmor"
				or defName = "Mortars"
				or defName = "BlowbackOperation"
				or defName = "GasOperation"
				or defName = "GunTurrets"
				or defName = "MicroelectronicsBasics"
				or defName = "FlatscreenTelevision"
				or defName = "MoisturePump"
				or defName = "HospitalBed" (Vitals Monitor)
				or defName = "DeepDrilling"
				or defName = "GroundPenetratingScanner" (SmartAutoDrill and Deep Wells (oil))
				or defName = "TransportPod"
				or defName = "MedicineProduction"
				or defName = "LongRangeMineralScanner" (???)
				or defName = "ShieldBelt"
				or defName = "PrecisionRifling" (Pulrse-charged, uranium slug turret, specialized firearms, marksman rifle, quick draw, mass drivers )
				or defName = "HeavyTurrets"
				or defName = "MultibarrelWeapons"
				or defName = "MultiAnalyzer" (Vitals Monitor)
				or defName = "VitalsMonitor"
				or defName = "Fabrication"
				or defName = "AdvancedFabrication"
				or defName = "SniperTurret"
				or defName = "Piano"
				or defName = "JumpPacks"
				or defName = "Gunlink"
				or defName = "Biosculpting"
				or defName = "Bioregeneration"
				or defName = "NeuralSupercharger"
			]
		</xpath>
	</Operation> -->

</Patch>